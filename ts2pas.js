#! /usr/bin/env node
/**
* ts2pas
* https://github.com/CWBudde/TS2Pas
*
* Copyright (c) 2016 Christian-W. Budde
* Licensed under the MIT license.
*/


var TObject={$ClassName:"TObject",$Parent:null,ClassName:function(s){return s.$ClassName},ClassType:function(s){return s},ClassParent:function(s){return s.$Parent},$Init:function(){},Create:function(s){return s},Destroy:function(s){for(var prop in s)if(s.hasOwnProperty(prop))delete s.prop},Destroy$:function(s){return s.ClassType.Destroy(s)},Free:function(s){if(s!==null)s.ClassType.Destroy(s)}}
function StrReplace(s,o,n){return o?s.replace(new RegExp(StrRegExp(o),"g"),n):s}
function StrRegExp(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}
function StrBefore(s,d){if(!d)return s;var p=s.indexOf(d);return(p<0)?s:s.substr(0,p)}
function StrAfter(s,d){if(!d)return"";var p=s.indexOf(d);return(p<0)?"":s.substr(p+d.length)}
var Exception={$ClassName:"Exception",$Parent:TObject,$Init:function(){var FMessage=""},Create:function(s,Msg){s.FMessage=Msg;return s}}
function stringRepeat(s,n){if(n<1)return'';var r='';while(n>0){if(n&1)r+=s;n>>=1,s+=s};return r};function DupeString(s,n){return stringRepeat(s,n)}
function $W(e){return e.ClassType?e:Exception.Create($New(Exception),e.constructor.name+", "+e.message)}
function $StrSet(s,i,v,z){if(i<1)throw Exception.Create($New(Exception),"Lower bound exceeded! Index "+i.toString()+z);if(i>s.length)throw Exception.Create($New(Exception),"Upper bound exceeded! Index "+i.toString()+z);return s.substring(0,i-1)+v+s.substring(i)}
function $New(c){var i={ClassType:c};c.$Init(i);return i}
function $Is(o,c){if(o===null)return false;return $Inh(o.ClassType,c)};function $Inh(s,c){if(s===null)return false;while((s)&&(s!==c))s=s.$Parent;return(s)?true:false};function $Extend(base,sub,props){function F(){};F.prototype=base.prototype;sub.prototype=new F();sub.prototype.constructor=sub;for(var n in props){if(props.hasOwnProperty(n)){sub.prototype[n]=props[n]}}}
function $AsIntf(o,i){if(o===null)return null;var r=o.ClassType.$Intf[i].map(function(e){return function(){var arg=Array.prototype.slice.call(arguments);arg.splice(0,0,o);return e.apply(o,arg)}});r.O=o;return r};function $As(o,c){if((o===null)||$Is(o,c))return o;throw Exception.Create($New(Exception),"Cannot cast instance of type \""+o.ClassType.$ClassName+"\" to class \""+c.$ClassName+"\"")}
function JError(){}
$Extend(Object,JError,{});function OU(ot,I2){var R=false;var bi="",Kt=null,hA="",s3=null,va="";bi=StrBefore(ot,".d.ts");if(ot==bi)ot+=".d.ts";Kt=P5.readFileSync(ot);if(!Kt)return R;hA=Kt.toString("utf8");s3=L7.MF($New(L7));s3.Name=bi;va=L7.eS(s3,hA);R=va!="";if(va.length>5)P5.writeFileSync(I2,va);s3=null;return R};function SW(sq){var R=false;R=OU(sq,StrBefore(sq,".d.ts")+".pas");return R};function Aa(gk){var My=null,Yf=null,HQ=null,fE=null;My=tA();Yf=new Object();Yf.hostname="raw.githubusercontent.com";Yf.path=gk;console.log("Fetching: "+gk);HQ=L7.MF($New(L7));fE=My.get(Yf,function(KP){var Ko="",Gn=[],Nc="",uD="";Ko="";Gn=(gk).split("\/");Nc=StrBefore(Gn[(Gn.length-1)],".d.ts");uD=Nc+".pas";KP.on("data",function(A5){Ko+=String(A5)});KP.on("end",function(wY){var Jk="";console.log("Translating: "+Nc);HQ.Name=Nc;Jk=L7.eS(HQ,Ko);console.log("Writing: "+uD);if(Jk.length>5)P5.writeFile(uD,Jk,function(O6){})})});fE.on("error",function(al){console.log("Error: ",al)})};function Copy$DH(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$DH($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$IJ(s,d){d.persistent=s.persistent;return d}
function Clone$IJ($){return{persistent:$.persistent}}
function Copy$Z9(s,d){d.persistent=s.persistent;d.interval=s.interval;return d}
function Clone$Z9($){return{persistent:$.persistent,interval:$.interval}}
function Copy$Is(s,d){d.curr=s.curr;d.prev=s.prev;return d}
function Clone$Is($){return{curr:$.curr,prev:$.prev}}
function Copy$FE(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$FE($){return{encoding:$.encoding,flag:$.flag}}
function Copy$Ww(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$Ww($){return{encoding:$.encoding,flag:$.flag}}
function Copy$Se(s,d){d.flags=s.flags;d.encoding=s.encoding;d.string_=s.string_;return d}
function Clone$Se($){return{flags:$.flags,encoding:$.encoding,string_:$.string_}}
function Copy$Hn(s,d){d.bufferSize=s.bufferSize;d.encoding=s.encoding;d.fd=s.fd;d.mode=s.mode;d.flags=s.flags;return d}
function Clone$Hn($){return{bufferSize:$.bufferSize,encoding:$.encoding,fd:$.fd,mode:$.mode,flags:$.flags}}
function Copy$wh(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$wh($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function sQ(){var R=null;R=require("fs");return R};function s4(){var R=null;R=require("stream");return R};function ml(){var R=null;R=require("events");return R};function tA(){var R=null;R=require("https");return R};var Ni={$ClassName:"TServer_address_result_object_tls",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};var mD={$ClassName:"TServer_addContext_credentials_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.key=$.cert=$.ca=""},Destroy:TObject.Destroy};function bh(){var R=null;R=require("tls");return R};var BP={$ClassName:"TClearTextStream_getCipher_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.name=$.version=""},Destroy:TObject.Destroy};var hm={$ClassName:"TClearTextStream_address_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};function I8(){var R=null;R=require("crypto");return R};function Copy$EB(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$EB($){return{allowHalfOpen:$.allowHalfOpen}}
function Copy$cF(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$cF($){return{allowHalfOpen:$.allowHalfOpen}}
function Copy$uU(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$uU($){return{allowHalfOpen:$.allowHalfOpen}}
function en(){var R=null;R=require("net");return R};function Copy$ug(s,d){d.fd=s.fd;d.type=s.type;d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$ug($){return{fd:$.fd,type:$.type,allowHalfOpen:$.allowHalfOpen}}
var BW={$ClassName:"JServerAddressResult",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};function yF(){var R=null;R=require("http");return R};var Fs=["Warning","Error","Message"];function Copy$s(s,d){d.e=s.e;d.r=s.r;return d}
function Clone$s($){return{e:$.e,r:$.r}}
var L7={$ClassName:"TTranslator",$Parent:TObject,$Init:function($){TObject.$Init($);$.NeedsSemicolon=false;$.Name="";$.IG=[];$.uY=[];$.pB=[];$.sg=[];$.pd=$.oS=null},yi:function(S){return S.pd.getTokenText()},B3:function(S){return S.pd.getToken()},AN:function(S,Vr){if(!(S.pd.isIdentifier()||Vr.indexOf(L7.B3(S))>=0))L7.am(S,0)},Pl:function(S,mI){if(!(mI.indexOf(L7.B3(S))>=0))L7.am(S,0)},O3:function(S,K3){if(L7.B3(S)!=K3)L7.am(S,K3)},BM:function(S){var R="";var R2=0;var as=null,zk=0;var T9=null,i9=0;var ko=null,qI=0;var ZN=null;var kj=[],oT=[],AL=[];R="";if(S.uY.length+S.sg.length+S.pB.length+S.IG.length==0)return R;R="unit "+lH(S.Name)+";"+"\r\n"+"\r\n";R+="interface"+"\r\n"+"\r\n";AL=S.uY;var $t1;for(R2=0,$t1=AL.length;R2<$t1;R2++){as=AL[R2];R=R+Uf.Hx$(as)}
oT=S.sg;var $t2;for(zk=0,$t2=oT.length;zk<$t2;zk++){T9=oT[zk];R=R+Uf.Hx$(T9)}
if(S.pB.length>0){var cT=[];R+="type"+"\r\n";Uf.ag(Uf);cT=S.pB;var $t3;for(i9=0,$t3=cT.length;i9<$t3;i9++){ko=cT[i9];R=R+Uf.Hx$(ko)}
Uf.jE(Uf)}
kj=S.IG;var $t4;for(qI=0,$t4=kj.length;qI<$t4;qI++){ZN=kj[qI];R=R+Uf.Hx$(ZN)}
return R},MF:function(S){S.NeedsSemicolon=false;return S},am:function(S,aU){var gM=null,Ht="";gM=w.getLineAndCharacterOfPosition(S.oS,S.pd.getTokenPos());Ht=("Unknown token \""+L7.yi(S).toString()+"\" in this context ("+(gM.line+1).toString()+":"+(gM.character+1).toString()+")");if(aU>0)Ht+=("; Expected ("+aU.toString()+")");console.trace("Error in "+S.Name);throw Exception.Create($New(Exception),Ht)},Pn:function(S){var R=null;L7.AN(S,[]);R=Uf.s9$($New(fB),$AsIntf(S,"aI"));R.Name=L7.yi(S);if(L7.Pa(S,54,false))R.Type=L7.WB(S);if(S.NeedsSemicolon)L7.Pl(S,[23,24].slice());return R},SD:function(S,Zmd){do{Zmd.push(L7.Pn(S));if(L7.B3(S)==23)break;if(L7.B3(S)!=24)break;if(!L7.QY(S,false))break}while(!(L7.B3(S)==23||(!S.pd.isIdentifier())||(!S.NeedsSemicolon)&&(!S.pd.isIdentifier())))},xu:function(S){var R=null;var Sh=0,dh=false;L7.AN(S,[121,110,111,112,113].slice());if(L7.B3(S)==121)return L7.NB(S);Sh=0;switch(L7.B3(S)){case 112:Sh=0;L7.Ju(S,[113].slice(),true);break;case 111:Sh=1;L7.Ju(S,[113].slice(),true);break;case 110:Sh=2;L7.Ju(S,[113].slice(),true);break}
dh=L7.B3(S)==113;if(dh)L7.QY(S,true);R=L7.rK(S);$As(R,WJ).IsStatic=dh;$As(R,WJ).Visibility=Sh;if(S.NeedsSemicolon)L7.Pl(S,[23,16].slice());return R},IC:function(S){var R=null;var oU=[],oU=[83,106,15,25].slice();var hi=[],hi=[121,110,111,112,113,16,23].slice();L7.O3(S,73);R=Uf.s9$($New(xo),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.ba(S,oU,true);if(L7.B3(S)==25){oU.push(25);do{R.TypeParameters.push(L7.fS(S))}while(!(L7.B3(S)!=24));L7.O3(S,27);L7.ba(S,oU,true)}
if(L7.B3(S)==83){L7.QY(S,true);R.Extends.push(L7.H3(S))}
if(L7.B3(S)==106){L7.QY(S,true);R.Implements.push(L7.DD(S));while(L7.B3(S)==24){L7.QY(S,true);R.Implements.push(L7.DD(S))}}
L7.O3(S,15);L7.Ju(S,hi,false);while(L7.B3(S)!=16){R.Members.push(L7.xu(S));if(L7.B3(S)==23)L7.Ju(S,hi,false)}
L7.O3(S,16);return R},NB:function(S){var R=null;L7.O3(S,121);L7.Pa(S,17,true);R=Uf.s9$($New(z9),$AsIntf(S,"aI"));while(L7.Ju(S,[22].slice(),false)){R.ParameterList.push(L7.Le(S));L7.Pl(S,[24,18,23].slice());if(L7.B3(S)==18)break}
L7.Pl(S,[18,23].slice());if(L7.B3(S)!=23)L7.Pa(S,23,true);return R},A3:function(S){var R=null;L7.O3(S,122);R=Uf.s9$($New(yM),$AsIntf(S,"aI"));L7.ba(S,[102,108,74,87,73,81,125,126].slice(),true);switch(L7.B3(S)){case 102:case 108:case 74:R.Variables.push(L7.sV(S));break;case 87:R.Functions.push(L7.Wf(S));break;case 73:R.Classes.push(L7.IC(S));break;case 81:R.Enums.push(L7.j9(S));break;case 125:R.Modules.push(L7.qt(S));break;case 126:R.Namespaces.push(L7.cC(S));break}
return R},j9:function(S){var R=null;R=L7.z5(S);return R},Wf:function(S){var R=null;L7.O3(S,87);R=Uf.s9$($New(Md),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.ba(S,[17,25].slice(),true);R.CallSignature=L7.r3(S);if(S.NeedsSemicolon)L7.Pl(S,[23].slice());return R},qt:function(S){var R=null;var hF=[],hF=[82,102,108,74,132,87,73,107,81,125,126,89,16,23].slice();var s2=false,ah=null;L7.O3(S,125);R=Uf.s9$($New(U4),$AsIntf(S,"aI"));L7.Ju(S,[9].slice(),true);R.IdentifierPath=L7.DD(S);L7.O3(S,15);L7.ba(S,hF,true);while(L7.B3(S)!=16){s2=L7.B3(S)==82;if(s2){L7.ba(S,hF.concat([77,56]),true);if(L7.B3(S)==77){s2=false;L7.Ju(S,[73].slice(),true);if(L7.B3(S)!=73)L7.ba(S,hF,true)}
if(L7.B3(S)==56){s2=false;L7.QY(S,false);L7.DD(S);continue}}
switch(L7.B3(S)){case 102:case 108:R.Variables.push(L7.sV(S));break;case 74:L7.Ju(S,[81].slice(),false);if(L7.B3(S)==81){R.Enums.push(L7.j9(S))}else{ah=Uf.s9$($New(Hs),$AsIntf(S,"aI"));ah.IsConst=true;L7.SD(S,ah.AmbientBindingList);R.Variables.push(ah)}
L7.ba(S,hF,true);break;case 132:R.TypeAliases.push(L7.Hf(S));break;case 87:R.Functions.push(L7.Wf(S));break;case 126:R.Namespaces.push(L7.rQ(S));L7.ba(S,hF,true);break;case 73:R.Classes.push(L7.Wk(S));L7.ba(S,hF,true);break;case 125:R.Modules.push(L7.qt(S));L7.ba(S,hF,true);break;case 107:R.Interfaces.push(L7.DB(S));L7.ba(S,hF,true);break;case 89:L7.fX(S);if(!S.NeedsSemicolon)L7.ba(S,hF,true);break;case 81:L7.z5(S);L7.ba(S,hF,true);break}
if(L7.B3(S)==23)L7.ba(S,hF,true)}
L7.O3(S,16);return R},cC:function(S){var R=null;var Sq=[],Sq=[73,122,82,81,89,87,107,102,23,132,16].slice();var lG=false;L7.O3(S,126);L7.Ju(S,[9].slice(),true);R=Uf.s9$($New(n5),$AsIntf(S,"aI"));R.Name=L7.DD(S);L7.O3(S,15);L7.ba(S,Sq,true);while(L7.B3(S)!=16){lG=L7.B3(S)==82;if(lG)L7.ba(S,Sq,true);switch(L7.B3(S)){case 73:R.Classes.push(L7.IC(S));break;case 81:L7.z5(S);break;case 87:R.Functions.push(L7.Wf(S));break;case 89:L7.fX(S);break;case 132:R.TypeAliases.push(L7.Hf(S));break;case 107:R.Interfaces.push(L7.DB(S));L7.ba(S,Sq,true);break;case 102:R.Variables.push(L7.sV(S));break}
if(L7.B3(S)==23)L7.ba(S,Sq,true)}
L7.O3(S,16);return R},rK:function(S){var R=null;var UA="";L7.AN(S,[]);UA=L7.yi(S);L7.ba(S,[54,17,23].slice(),true);if(L7.B3(S)==17){R=L7.G1(S)}else R=L7.d5(S);R.Name=UA;if(S.NeedsSemicolon)L7.AN(S,[23,16,24].slice());return R},G1:function(S){var R=null;L7.O3(S,17);R=Uf.s9$($New(tl),$AsIntf(S,"aI"));R.CallSignature=L7.r3(S);L7.Pl(S,[18,23,112,111,110].slice());return R},d5:function(S){var R=null;R=Uf.s9$($New(HO),$AsIntf(S,"aI"));if(L7.B3(S)==54)R.Type=L7.Mo(S);return R},sV:function(S){var R=null;L7.Pl(S,[102,108,74].slice());R=Uf.s9$($New(Hs),$AsIntf(S,"aI"));R.IsConst=L7.B3(S)==74;L7.QY(S,true);L7.SD(S,R.AmbientBindingList);return R},r3:function(S){var R=null;L7.Pl(S,[17,25].slice());R=Uf.s9$($New(tR),$AsIntf(S,"aI"));if(L7.B3(S)==25){do{R.TypeParameters.push(L7.fS(S))}while(!(L7.B3(S)!=24));L7.Pa(S,17,true)}
L7.O3(S,17);L7.Ju(S,[112,110,111,22,18].slice(),true);while(L7.B3(S)!=18){R.ParameterList.push(L7.ON(S));if(L7.B3(S)==24)L7.Ju(S,[22].slice(),false)}
L7.Pl(S,[18].slice());L7.ba(S,[54,23].slice(),true);if(L7.B3(S)==54)R.Type=L7.Mo(S);return R},Wk:function(S){var R=null;var tm=[],tm=[83,106,15,25].slice();L7.O3(S,73);R=Uf.s9$($New(LW),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.ba(S,tm,true);if(L7.B3(S)==25){tm.push(25);do{R.TypeParameters.push(L7.fS(S))}while(!(L7.B3(S)!=24));L7.O3(S,27);L7.ba(S,tm,true)}
if(L7.B3(S)==83){L7.QY(S,true);R.Extends.push(L7.H3(S))}
if(L7.B3(S)==106){L7.QY(S,true);R.Implements.push(L7.H3(S));while(L7.B3(S)==24){L7.QY(S,true);R.Implements.push(L7.H3(S))}}
L7.O3(S,15);L7.sk(S,R);return R},pV:function(S){var R=null;var F9=[],SX=[],SX=[72,75,76,77,78,82,85,88,105].slice();var ex="",OF=false;L7.AN(S,[92,9,19].concat(SX));if(L7.B3(S)==19)return L7.Ao(S);ex=L7.yi(S);L7.ba(S,[25,53,54,17,23].slice(),true);if(L7.B3(S)==25){do{F9.push(L7.fS(S))}while(!(L7.B3(S)!=24));L7.ba(S,[53,54,17,23].slice(),true)}
OF=L7.B3(S)==53;if(OF)L7.ba(S,[54,23].slice(),true);switch(L7.B3(S)){case 54:case 23:R=L7.gB(S);$As(R,GE).Nullable=OF;break;case 17:if((ex).toLowerCase()=="constructor"){R=L7.vz(S)}else R=L7.Cb(S);break}
R.Name=ex;R.TypeParameters=F9;if(S.NeedsSemicolon)L7.Pl(S,[23,24,16].slice());return R},sk:function(S,u1){var rL=[],rL=[92,9,82,16,23,19].slice();var xk=0,Sv=false,ig=null;L7.O3(S,15);L7.Ju(S,rL,false);while(L7.B3(S)!=16){xk=0;switch(L7.B3(S)){case 112:xk=0;L7.Ju(S,[92].slice(),true);break;case 111:xk=1;L7.Ju(S,[92].slice(),true);break;case 110:xk=2;L7.Ju(S,[92].slice(),true);break}
Sv=L7.B3(S)==113;if(Sv)L7.Ju(S,[92,17].slice(),true);ig=L7.pV(S);ig.Visibility=xk;ig.IsStatic=Sv;u1.Members.push(ig);if(L7.B3(S)==23)L7.Ju(S,rL,false)}},vz:function(S){var R=null;R=Uf.s9$($New(CN),$AsIntf(S,"aI"));R.Type=L7.Wb(S);if(S.NeedsSemicolon)L7.Pl(S,[23,16].slice());return R},ul:function(S){var R=null;L7.O3(S,92);R=Uf.s9$($New(CN),$AsIntf(S,"aI"));L7.ba(S,[17,25].slice(),true);if(L7.B3(S)==25){do{R.TypeParameters.push(L7.fS(S))}while(!(L7.B3(S)!=24));L7.ba(S,[17].slice(),true)}
L7.O3(S,17);L7.Ju(S,[112,110,111,22,18].slice(),true);while(L7.B3(S)!=18){R.ParameterList.push(L7.ON(S));if(L7.B3(S)==24)L7.Ju(S,[22].slice(),false)}
L7.O3(S,18);L7.Pa(S,54,true);R.Type=L7.WB(S);return R},hO:function(S){var R=null;L7.O3(S,92);R=Uf.s9$($New(Xi),$AsIntf(S,"aI"));L7.Pa(S,17,true);while(L7.Ju(S,[22].slice(),false)){R.ParameterList.push(L7.Le(S));L7.Pl(S,[24,18,23].slice());if(L7.B3(S)==18)break}
L7.Pl(S,[18,23].slice());if(L7.ba(S,[54,34].slice(),false))R.ResultType=L7.Mo(S);return R},oW:function(S){var ux=[],ux=[82,122,107,125,89,1].slice();var De=false,gc=[],VX=null;L7.ba(S,ux,true);while(L7.B3(S)!=1){De=L7.B3(S)==82;if(De){gc=ux;gc.push(82);L7.ba(S,gc,true)}
switch(L7.B3(S)){case 122:S.IG.push(L7.A3(S));break;case 107:VX=L7.DB(S);VX.IsExport=De;S.pB.push(VX);L7.O3(S,16);L7.ba(S,ux,true);break;case 125:S.sg.push(L7.nU(S));break;case 89:S.uY.push(L7.fX(S));break}
if(([16,23].indexOf(L7.B3(S))>=0))L7.ba(S,ux,true)}},z5:function(S){var R=null;var oy=[],oy=[81,77,78,89,96].slice();L7.O3(S,81);R=Uf.s9$($New(G8),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.Pa(S,15,true);L7.Ju(S,[16].concat(oy),true);if(L7.B3(S)!=16){do{R.Items.push(L7.ew(S));if(L7.B3(S)==16)break}while(!(!L7.Ju(S,oy,false)))}
L7.O3(S,16);return R},ew:function(S){var R=null;var qg=[],qg=[81,77,78,89,96].slice();L7.AN(S,qg);R=Uf.s9$($New(Sf),$AsIntf(S,"aI"));R.Name=L7.yi(S);if(L7.Pa(S,56,false)){L7.Pa(S,8,true);R.Value=L7.yi(S);L7.CY(S)}
L7.Pl(S,[24,16].slice());return R},F6:function(S){var R=null;L7.O3(S,82);R=Uf.s9$($New(om),$AsIntf(S,"aI"));L7.Ju(S,[77].slice(),true);R.xG=L7.B3(S)==82||(L7.yi(S)).toLowerCase()=="default";if(R.xG)L7.QY(S,true);R.Name=L7.yi(S);L7.Pa(S,23,true);return R},Ma:function(S){var R=null;L7.O3(S,87);R=Uf.s9$($New(Cr),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.ba(S,[17].slice(),true);R.Type=L7.Wb(S);return R},Le:function(S){var R=null;var jf=false;var ce=[],ce=[53,24,54,18].slice();L7.AN(S,[22].slice());jf=L7.B3(S)==22;if(jf)L7.QY(S,true);R=Uf.s9$($New(QG),$AsIntf(S,"aI"));R.Name=L7.yi(S);L7.ba(S,ce,true);R.IsOptional=L7.B3(S)==53;ce.push(53);if(R.IsOptional)L7.ba(S,ce,true);if(L7.B3(S)==54)R.Type=L7.Mo(S);return R},Wb:function(S){var R=null;L7.Pl(S,[17,25].slice());R=Uf.s9$($New(Co),$AsIntf(S,"aI"));if(L7.B3(S)==25){do{R.TypeParameters.push(L7.fS(S))}while(!(L7.B3(S)!=24));L7.Pa(S,17,true)}
while(L7.Ju(S,[22].slice(),false)){R.ParameterList.push(L7.Le(S));L7.Pl(S,[24,18,23].slice());if(L7.B3(S)==18)break}
L7.Pl(S,[18,23].slice());if(L7.ba(S,[54,34].slice(),false))R.ResultType=L7.Mo(S);return R},Ju:function(S,BD,Y3){var R=false;L7.CY(S);R=S.pd.isIdentifier()||BD.indexOf(L7.B3(S))>=0;if((!R)&&Y3)L7.am(S,0);return R},QY:function(S,IN){var R=false;L7.CY(S);R=S.pd.isIdentifier();if((!R)&&IN)L7.am(S,69);return R},DD:function(S){var R="";L7.AN(S,[9,97].slice());R=L7.yi(S);while(L7.Pa(S,21,false)){L7.QY(S,true);R+="."+L7.yi(S)}
return R},fX:function(S){var R=null;L7.O3(S,89);R=Uf.s9$($New(Id),$AsIntf(S,"aI"));L7.Ju(S,[37,9].slice(),true);switch(L7.B3(S)){case 37:R.Name="*";L7.Pa(S,116,true);L7.QY(S,true);L7.Pa(S,133,true);L7.Pa(S,9,true);break;case 9:R.Name=S.pd.getTokenValue();break;default:R.Name=L7.yi(S);L7.Pa(S,56,true);L7.Ju(S,[127].slice(),true);if(L7.B3(S)==127){L7.Pa(S,17,false);L7.Pa(S,9,false);L7.Pa(S,18,false)}else R.Value=L7.DD(S)}
if(S.NeedsSemicolon)L7.Pa(S,23,true);return R},Ao:function(S){var R=null;L7.O3(S,19);R=Uf.s9$($New(gY),$AsIntf(S,"aI"));R.IndexSignature=L7.O5(S);if(S.NeedsSemicolon)L7.AN(S,[23,16,24].slice());return R},O5:function(S){var R=null;L7.O3(S,19);R=Uf.s9$($New(RV),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.Pa(S,54,true);L7.ba(S,[130,128].slice(),true);R.IsStringIndex=L7.B3(S)==130;L7.Pa(S,20,true);L7.Pa(S,54,true);R.Type=L7.WB(S);return R},DB:function(S){var R=null;L7.O3(S,107);R=Uf.s9$($New(R3),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.ba(S,[25,83,15].slice(),true);if(L7.B3(S)==25){do{R.TypeParameters.push(L7.fS(S))}while(!(L7.B3(S)!=24));L7.ba(S,[83,15].slice(),true)}
if(L7.B3(S)==83){L7.QY(S,true);R.Extends.push(L7.H3(S));while(L7.B3(S)==24){L7.QY(S,true);R.Extends.push(L7.H3(S))}}
L7.O3(S,15);R.Type=L7.qh(S);L7.O3(S,16);return R},Cb:function(S){var R=null;R=Uf.s9$($New(ji),$AsIntf(S,"aI"));R.CallSignature=L7.r3(S);if(S.NeedsSemicolon)L7.Pl(S,[23,16].slice());return R},nU:function(S){var R=null;var KO=[],KO=[73,82,81,89,125,87,107,102,23,16].slice();L7.O3(S,125);R=Uf.s9$($New(xe),$AsIntf(S,"aI"));L7.Ju(S,[9].slice(),true);R.Name=L7.DD(S);L7.O3(S,15);L7.ba(S,KO,true);while(L7.B3(S)!=16){switch(L7.B3(S)){case 73:R.Classes.push(L7.Wk(S));break;case 82:R.Exports.push(L7.F6(S));break;case 81:L7.z5(S);break;case 87:R.Functions.push(L7.Ma(S));break;case 89:L7.fX(S);break;case 125:R.Modules.push(L7.nU(S));break;case 107:R.Interfaces.push(L7.DB(S));break;case 102:R.Variables.push(L7.s1(S));break}
L7.ba(S,KO,true)}
L7.O3(S,16);return R},rQ:function(S){var R=null;var Km=[],Km=[115,73,122,82,81,89,87,107,23,16].slice();var dc=false,i3=null;L7.O3(S,126);L7.Ju(S,[9].slice(),true);R=Uf.s9$($New(oC),$AsIntf(S,"aI"));R.Name=L7.DD(S);L7.O3(S,15);L7.ba(S,Km,true);while(L7.B3(S)!=16){dc=L7.B3(S)==115;if(dc)L7.ba(S,[73].slice(),true);switch(L7.B3(S)){case 73:i3=L7.Wk(S);i3.IsAbstract=dc;R.Classes.push(i3);break;case 81:L7.z5(S);break;case 87:R.Functions.push(L7.Ma(S));break;case 89:L7.fX(S);break;case 107:R.Interfaces.push(L7.DB(S));break}
L7.ba(S,Km,true)}
L7.O3(S,16);return R},qh:function(S){var R=null;var dS=[],dS=[9,8,92,25,17,19,16].slice();var QW=[],QW=[72,73,75,76,77,78,82,83,85,86,89,90,94,97,98,100].slice();L7.O3(S,15);R=Uf.s9$($New(dG),$AsIntf(S,"aI"));L7.Ju(S,dS.concat(QW),true);while(L7.B3(S)!=16){R.Members.push(L7.QA(S));if(([23,24].indexOf(L7.B3(S))>=0))L7.Ju(S,dS.concat(QW),true)}
L7.O3(S,16);return R},ON:function(S){var R=null;L7.AN(S,[112,110,111,22].slice());R=Uf.s9$($New(NV),$AsIntf(S,"aI"));R.Name=L7.yi(S);R.IsRest=L7.B3(S)==22;if(R.IsRest){L7.QY(S,true);R.Name=L7.yi(S);if(L7.Pa(S,54,false))R.Type=L7.WB(S);L7.O3(S,18);return R}
L7.AN(S,[112,110,111].slice());switch(L7.B3(S)){case 112:R.AccessibilityModifier=0;L7.QY(S,false);break;case 110:R.AccessibilityModifier=1;L7.QY(S,false);break;case 111:R.AccessibilityModifier=2;L7.QY(S,false);break}
L7.AN(S,[]);L7.ba(S,[53,54,56,24,18].slice(),true);R.IsOptional=L7.B3(S)==53;if(R.IsOptional)L7.ba(S,[54,56,24,18].slice(),true);if(L7.B3(S)==54)R.Type=L7.Mo(S);L7.Pl(S,[56,24,18].slice());if(L7.B3(S)==56){L7.QY(S,true);R.DefaultValue=L7.yi(S)}
L7.Pl(S,[24,18].slice());return R},aL:function(S){var R=null;var YJ=[],YJ=[69,9,117,128,130,120,103,101,97,15,17,19].slice();var X6=null;L7.Pl(S,YJ);switch(L7.B3(S)){case 17:R=L7.Mo(S);L7.O3(S,18);L7.CY(S);break;case 69:case 97:R=tE.mY($New(tE),$AsIntf(S,"aI"),L7.DD(S));if(L7.B3(S)==25){do{$As(R,tE).Arguments.push(L7.BA(S))}while(!(L7.B3(S)!=24));L7.O3(S,27);L7.CY(S)}
break;case 9:R=tE.mY($New(tE),$AsIntf(S,"aI"),S.pd.getTokenValue());L7.CY(S);break;case 117:R=Uf.s9$($New(Ux),$AsIntf(S,"aI"));L7.CY(S);break;case 128:R=Uf.s9$($New(xL),$AsIntf(S,"aI"));L7.CY(S);break;case 103:R=null;L7.CY(S);break;case 101:R=Uf.s9$($New(fa),$AsIntf(S,"aI"));$As(R,fa).Type=L7.Mo(S);break;case 130:R=Uf.s9$($New(qx),$AsIntf(S,"aI"));L7.CY(S);break;case 120:R=Uf.s9$($New(bW),$AsIntf(S,"aI"));L7.CY(S);break;case 15:R=L7.qh(S);L7.CY(S);break;case 19:R=L7.pF(S);L7.CY(S);break}
while(L7.B3(S)==19){X6=R;R=Uf.s9$($New(X5),$AsIntf(S,"aI"));$As(R,X5).Type=X6;L7.Pa(S,20,true);L7.CY(S)}
return R},gB:function(S){var R=null;L7.Pl(S,[54,23].slice());R=Uf.s9$($New(GE),$AsIntf(S,"aI"));if(L7.B3(S)==23)return R;R.Type=L7.Mo(S);if(S.NeedsSemicolon)L7.AN(S,[23,16,24].slice());return R},ba:function(S,bM,qW){var R=false;R=bM.indexOf(L7.CY(S))>=0;if((!R)&&qW)L7.am(S,0);return R},Pa:function(S,lN,Sb){var R=false;R=L7.CY(S)==lN;if((!R)&&Sb)L7.am(S,lN);return R},CY:function(S){var R=0;R=S.pd.scan();return R},pF:function(S){var R=null;L7.O3(S,19);R=Uf.s9$($New(h6),$AsIntf(S,"aI"));do{R.Types.push(L7.Mo(S))}while(!(L7.B3(S)==20));L7.O3(S,20);return R},Mo:function(S){var R=null;var Jm=[],Jm=[69,9,117,128,130,120,103,101,97,92,25,15,17,19].slice();var rBl=0,AS=false,Vt=null;rBl=S.pd.getTextPos();L7.ba(S,Jm,true);if(L7.B3(S)==17){AS=true;L7.Ju(S,Jm.concat([112,111,110,18,22]),true);if(!([112,111,110,18,22].indexOf(L7.B3(S))>=0)){if(S.pd.isIdentifier()){L7.ba(S,[25,47,54,24,53,21,19,18].slice(),true);AS=([54,53,24,18].indexOf(L7.B3(S))>=0)}else AS=!L7.B3(S)==17}
S.pd.setTextPos(rBl);L7.ba(S,Jm,true);if(AS)return L7.Wb(S)}
if(L7.B3(S)==25)return L7.Wb(S);if(L7.B3(S)==92)return L7.hO(S);R=L7.aL(S);while(L7.B3(S)==47){if(!$Is(R,PO)){Vt=R;R=Uf.s9$($New(PO),$AsIntf(S,"aI"));$As(R,PO).Types.push(Vt)}
L7.ba(S,Jm,true);$As(R,PO).Types.push(L7.aL(S))}
return R},Hf:function(S){var R=null;L7.O3(S,132);R=Uf.s9$($New(Cy),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.ba(S,[25,56].slice(),true);if(L7.B3(S)==25){R.TypeParameters.push(L7.fS(S));L7.Pa(S,56,true)}
R.Type=L7.Mo(S);if(S.NeedsSemicolon)L7.O3(S,23);return R},WB:function(S){var R=null;L7.O3(S,54);R=L7.Mo(S);return R},BA:function(S){var R=null;L7.Pl(S,[25,24].slice());R=Uf.s9$($New(od),$AsIntf(S,"aI"));R.Type=L7.Mo(S);L7.Pl(S,[27,24].slice());return R},QA:function(S){var R=null;var yS=[],jq=[],jq=[9,8,110,92,25,17,19].slice();var Ha=[],Ha=[72,73,75,76,77,78,82,83,85,86,89,90,94,97,98,100].slice();var MjZ=0,OQ=false,Zn="",qu=false;MjZ=S.pd.getTextPos();L7.AN(S,jq.concat(Ha));if(L7.B3(S)==92){OQ=!L7.ba(S,[53,54].slice(),false);S.pd.setTextPos(MjZ-3);S.pd.scan();if(OQ)return L7.ul(S)}
if(([17,25].indexOf(L7.B3(S))>=0))return L7.r3(S);if(L7.B3(S)==19)return L7.O5(S);if(S.pd.isIdentifier()||[9,8,92].concat(Ha).indexOf(S.pd.getToken())>=0){Zn=L7.yi(S);L7.ba(S,[25,53,54,17].slice(),true);qu=L7.B3(S)==53;if(qu)L7.ba(S,[54,17,25].slice(),true);switch(L7.B3(S)){case 54:R=L7.gB(S);$As(R,GE).Nullable=qu;break;case 17:case 25:R=L7.Cb(S);break}
R.TypeArguments=yS;R.Name=Zn}
return R},fS:function(S){var R=null;L7.Pl(S,[25,24].slice());R=Uf.s9$($New(zc),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.ba(S,[83,27,24].slice(),true);if(L7.B3(S)==83){R.ExtendsType=L7.Mo(S);L7.Pl(S,[27,24].slice())}
return R},H3:function(S){var R=null;L7.AN(S,[]);R=Uf.s9$($New(Zu),$AsIntf(S,"aI"));R.Name=L7.DD(S);if(L7.B3(S)==25){do{R.Arguments.push(L7.BA(S))}while(!(L7.B3(S)!=24));L7.CY(S)}
return R},s1:function(S){var R=null;L7.O3(S,102);R=Uf.s9$($New(PL),$AsIntf(S,"aI"));L7.QY(S,true);R.Name=L7.yi(S);L7.Pa(S,54,true);R.Type=L7.Mo(S);return R},eS:function(S,vW){var R="";S.pd=w.createScanner(0,true,0,vW);S.oS=w.createSourceFile("main",vW,0);try{L7.oW$(S)}catch($e){var cs=$W($e);console.error(cs.FMessage)}
R=L7.BM$(S);return R},Destroy:TObject.Destroy,BM$:function($){return $.ClassType.BM($)},oW$:function($){return $.ClassType.oW($)}};L7.$Intf={aI:[]}
function lH(dm){var R="";var yJ=[];if(dm.length==0)return"Unknown";yJ=(dm).split("\\");R=yJ[(yJ.length-1)];yJ=(dm).split("\/");R=yJ[(yJ.length-1)];R=StrReplace(R,"-","_");R=$StrSet(R,1,(R.charAt(0)).toUpperCase());return R};var p4=["vPublic","vProtected","vPrivate"];var Uf={$ClassName:"TCustomDeclaration",$Parent:TObject,$Init:function($){TObject.$Init($);$.E4=null},ag:function(S){++OJ},Rf:function(S,P8){ZF.push(P8)},s9:function(S,K7){S.E4=K7;return S},jE:function(S){--OJ},Q2:function(S){ZF.pop()},aM:function(S){var R="";R=DupeString("  ",OJ);return R},BC:function(S){var R="";var nQ=0;R="";if(ZF.length>0){R+=ZF[0];var $t5;for(nQ=0+1,$t5=ZF.length;nQ<$t5;nQ++){R+="."+ZF[nQ]}}
return R},Destroy:TObject.Destroy,s9$:function($){return $.ClassType.s9.apply($.ClassType,arguments)},Hx$:function($){return $.ClassType.Hx($)}};var E6={$ClassName:"TCustomType",$Parent:Uf,$Init:function($){Uf.$Init($)},Destroy:TObject.Destroy,s9:Uf.s9,Hx:Uf.Hx};var g8={$ClassName:"TCustomNamedType",$Parent:E6,$Init:function($){E6.$Init($)},Hx:function(S){var R="";R="J"+g8.a8$(S);return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)},a8$:function($){return $.ClassType.a8($)}};var sm={$ClassName:"TPredefinedType",$Parent:g8,$Init:function($){g8.$Init($)},Hx:function(S){var R="";R=g8.a8$(S);return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)},a8:g8.a8};var Ux={$ClassName:"TVariantType",$Parent:sm,$Init:function($){sm.$Init($)},a8:function(S){var R="";R="Variant";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx:sm.Hx,a8$:function($){return $.ClassType.a8($)}};var an={$ClassName:"TNamedDeclaration",$Parent:Uf,$Init:function($){Uf.$Init($);$.Name=""},Destroy:TObject.Destroy,s9:Uf.s9,Hx:Uf.Hx};var PL={$ClassName:"TVariableDeclaration",$Parent:an,$Init:function($){an.$Init($);$.Type=null},Hx:function(S){var R="";console.log("not implemented: TVariableDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var PO={$ClassName:"TUnionType",$Parent:E6,$Init:function($){E6.$Init($);$.Types=[]},Hx:function(S){var R="";var WE=0;var Py=null;R="Variant {";var $t6;for(WE=0,$t6=(S.Types.length-1);WE<$t6;WE++){R+=(S.Types[WE])?Uf.Hx$(S.Types[WE]):"void";R+=" or "}
Py=S.Types[(S.Types.length-1)];R+=(Py)?Uf.Hx$(Py):"void";R+="}";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Zu={$ClassName:"TTypeReference",$Parent:Uf,$Init:function($){Uf.$Init($);$.Name="";$.Arguments=[]},Hx:function(S){var R="";var XT=0;R="J"+S.Name;if(S.Arguments.length>0){R+=" {"+Uf.Hx$(S.Arguments[0]);var $t7;for(XT=0+1,$t7=S.Arguments.length;XT<$t7;XT++){R+=", "+Uf.Hx$(S.Arguments[XT])}
R+="} "}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var zc={$ClassName:"TTypeParameter",$Parent:Uf,$Init:function($){Uf.$Init($);$.Name="";$.ExtendsType=null},Hx:function(S){var R="";R=S.Name;if(S.ExtendsType)R+=" extends "+Uf.Hx$(S.ExtendsType);return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var fa={$ClassName:"TTypeOfType",$Parent:g8,$Init:function($){g8.$Init($);$.Type=null},a8:function(S){var R="";R="type of";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx:g8.Hx,a8$:function($){return $.ClassType.a8($)}};var od={$ClassName:"TTypeArgument",$Parent:Uf,$Init:function($){Uf.$Init($);$.Type=null},Hx:function(S){var R="";if(S.Type){R=Uf.Hx$(S.Type)}else R="Variant";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Cy={$ClassName:"TTypeAlias",$Parent:an,$Init:function($){an.$Init($);$.Type=null;$.TypeParameters=[]},Hx:function(S){var R="";R=Uf.aM(S.ClassType)+S.Name+" = "+Uf.Hx$(S.Type)+";"+"\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var h6={$ClassName:"TTupleType",$Parent:E6,$Init:function($){E6.$Init($);$.Types=[]},Hx:function(S){var R="";R="TupletType";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var qx={$ClassName:"TStringType",$Parent:sm,$Init:function($){sm.$Init($)},a8:function(S){var R="";R="String";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx:sm.Hx,a8$:function($){return $.ClassType.a8($)}};var m7={$ClassName:"TCustomTypeMember",$Parent:an,$Init:function($){an.$Init($);$.TypeParameters=[];$.Visibility=0;$.IsStatic=false;$.TypeArguments=[]},s9:function(S,q2){Uf.s9(S,q2);S.Visibility=0;return S},Destroy:TObject.Destroy,s9$:function($){return $.ClassType.s9.apply($.ClassType,arguments)},Hx:Uf.Hx};var fu={$ClassName:"TClassTypeMember",$Parent:m7,$Init:function($){m7.$Init($);$.Visibility=0;$.IsStatic=false},Destroy:TObject.Destroy,s9:m7.s9,Hx:Uf.Hx};var GE={$ClassName:"TPropertyMemberDeclaration",$Parent:fu,$Init:function($){fu.$Init($);$.Nullable=false;$.Type=null},Hx:function(S){var R="";var jC=0;var ol=null;R=Uf.aM(S.ClassType)+NC(S.Name);if(S.TypeArguments.length>0){var xb=[];R+="{<";xb=S.TypeArguments;var $t8;for(jC=0,$t8=xb.length;jC<$t8;jC++){ol=xb[jC];R+=Uf.Hx$(ol)}
R+=">}"}
R+=": ";if(S.Type){if($Is(S.Type,dG))R+="record"+"\r\n";R+=Uf.Hx$(S.Type)}else R+="Variant";R+=";";if(S.Nullable)R+=" \/\/ nullable";R+="\r\n";return R},Destroy:TObject.Destroy,s9:m7.s9,Hx$:function($){return $.ClassType.Hx($)}};var NV={$ClassName:"TParameter",$Parent:an,$Init:function($){an.$Init($);$.DefaultValue="";$.IsRest=$.IsOptional=false;$.AccessibilityModifier=0;$.Type=null},Hx:function(S){var R="";R=S.Name+": ";if(S.Type){if($Is(S.Type,dG))R+="record"+"\r\n";R+=Uf.Hx$(S.Type)}else R+="Variant";if(S.DefaultValue!="")R+=" = "+S.DefaultValue;if(S.IsRest)R+=" {...}";return R},hX:function(S,bK){var R="";var LH=null;R=NC(S.Name);if(!bK){R+=": ";if(S.Type){if($Is(S.Type,dG))R+="record"+"\r\n";if($Is(S.Type,Co)){LH=$As(S.Type,Co).ResultType;R+=(LH)?"function":"procedure"}
R+=Uf.Hx$(S.Type)}else R+="Variant"}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var dG={$ClassName:"TObjectType",$Parent:E6,$Init:function($){E6.$Init($);$.Members=[]},Hx:function(S){var R="";var x6=0;var Z3=null,ZO=null;var D3=[];Uf.ag(S.ClassType);D3=S.Members;var $t9;for(x6=0,$t9=D3.length;x6<$t9;x6++){Z3=D3[x6];if($Is(Z3,tR)){R+=Uf.aM(S.ClassType);ZO=$As(Z3,tR).Type;R+=(ZO)?"function":"procedure";R+=Uf.Hx$(Z3)+";"+"\r\n"}else R+=Uf.Hx$(Z3)}
Uf.jE(S.ClassType);R+=Uf.aM(S.ClassType)+"end";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var oC={$ClassName:"TNamespaceDeclaration",$Parent:an,$Init:function($){an.$Init($);$.Namespaces=[];$.Interfaces=[];$.Classes=[];$.Functions=[];$.TypeAliases=[];$.Enums=[]},Hx:function(S){var R="";var ir=0;var jb=null,Dg=0;var vk=null,fH=0;var IR=null,NM=0;var uGf=null,MS=0;var qr=null;var E9=[];Uf.Rf(S.ClassType,S.Name);if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var vf=[],fM=[],TQ=[];R+="type"+"\r\n";Uf.ag(S.ClassType);TQ=S.Enums;var $tA;for(ir=0,$tA=TQ.length;ir<$tA;ir++){jb=TQ[ir];R+=Uf.Hx$(jb)}
fM=S.Classes;var $tB;for(Dg=0,$tB=fM.length;Dg<$tB;Dg++){vk=fM[Dg];R+=Uf.Hx$(vk)}
vf=S.Interfaces;var $tC;for(fH=0,$tC=vf.length;fH<$tC;fH++){IR=vf[fH];R+=Uf.Hx$(IR)}
Uf.jE(S.ClassType)}
if(S.Functions.length>0){var XI=[];XI=S.Functions;var $tD;for(NM=0,$tD=XI.length;NM<$tD;NM++){uGf=XI[NM];R+=Uf.Hx$(uGf)}
R+="\r\n"}
E9=S.Namespaces;var $tE;for(MS=0,$tE=E9.length;MS<$tE;MS++){qr=E9[MS];R+=Uf.Hx$(qr)}
R+="\r\n";Uf.Q2(S.ClassType);return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var tE={$ClassName:"TNamedType",$Parent:g8,$Init:function($){g8.$Init($);$.Arguments=[];$.MH=""},mY:function(S,MZ,Rb){Uf.s9(S,MZ);S.MH=Rb;return S},Hx:function(S){var R="";var iv=0;var yI=null;R=g8.Hx(S);if(S.Arguments.length>0){var Or=[];R+="{<";Or=S.Arguments;var $tF;for(iv=0,$tF=Or.length;iv<$tF;iv++){yI=Or[iv];R+=Uf.Hx$(yI)}
R+=">}"}
return R},a8:function(S){var R="";R=S.MH;return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)},a8$:function($){return $.ClassType.a8($)}};var xe={$ClassName:"TModuleDeclaration",$Parent:an,$Init:function($){an.$Init($);$.Modules=[];$.Variables=[];$.Exports=[];$.Functions=[];$.Interfaces=[];$.Classes=[]},Hx:function(S){var R="";var M7=0;var G2=null,ff=0;var TJ=null,fZ=0;var EY=null;R="";if(S.Classes.length+S.Interfaces.length>0){var KN=[],fq=[];R+="type"+"\r\n";Uf.ag(S.ClassType);fq=S.Classes;var $tG;for(M7=0,$tG=fq.length;M7<$tG;M7++){G2=fq[M7];R=R+Uf.Hx$(G2)}
KN=S.Interfaces;var $tH;for(ff=0,$tH=KN.length;ff<$tH;ff++){TJ=KN[ff];R=R+Uf.Hx$(TJ)}
Uf.jE(S.ClassType)}
if(S.Variables.length>0){var bI=[];R+="var"+"\r\n";Uf.ag(S.ClassType);bI=S.Variables;var $tI;for(fZ=0,$tI=bI.length;fZ<$tI;fZ++){EY=bI[fZ];R=R+Uf.Hx$(EY)}
Uf.jE(S.ClassType)}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var ji={$ClassName:"TMethodDeclaration",$Parent:fu,$Init:function($){fu.$Init($);$.CallSignature=null},Hx:function(S){var R="";var k3="";var dQ="";var NJ=0,Sj=0;var yg=null,L8=0;var kv=[];NJ=0;kv=S.CallSignature.ParameterList;var $tJ;for(Sj=0,$tJ=kv.length;Sj<$tJ;Sj++){yg=kv[Sj];if(yg.IsOptional)++NJ}
k3=Uf.aM(S.ClassType);k3+=(S.CallSignature.Type)?"function":"procedure";k3+=" "+NC(S.Name);dQ=";";dQ+=(NJ>0)?" overload;":"";dQ+="\r\n";R="";var $tK;for(L8=0,$tK=NJ;L8<=$tK;L8++){R+=k3+tR.WY(S.CallSignature,L8)+dQ}
return R},Destroy:TObject.Destroy,s9:m7.s9,Hx$:function($){return $.ClassType.Hx($)}};var R3={$ClassName:"TInterfaceDeclaration",$Parent:Uf,$Init:function($){Uf.$Init($);$.TypeParameters=[];$.Type=null;$.Name="";$.Extends=[];$.IsExport=false},Hx:function(S){var R="";var V6=0;var e5=null,lM=0;R+=Uf.aM(S.ClassType)+"J"+S.Name;if(S.TypeParameters.length>0){var yK=[];R+="{<";yK=S.TypeParameters;var $tL;for(V6=0,$tL=yK.length;V6<$tL;V6++){e5=yK[V6];R+=Uf.Hx$(e5)}
R+=">}"}
R+=" = class external";if(S.Extends.length>0){R+="(";R+=Uf.Hx$(S.Extends[0]);var $tM;for(lM=0+1,$tM=S.Extends.length;lM<$tM;lM++){R+=", "+Uf.Hx$(S.Extends[lM])}
R+=")"}
R+="\r\n";R+=Uf.Hx$(S.Type);R+=";"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var RV={$ClassName:"TIndexSignature",$Parent:m7,$Init:function($){m7.$Init($);$.IsStringIndex=false;$.Type=null},Hx:function(S){var R="";R=Uf.aM(S.ClassType)+"\/\/ ";R+="property Item["+S.Name+": ";R+=(S.IsStringIndex)?"String":"Integer";R+="]: "+Uf.Hx$(S.Type)+";"+"\r\n";return R},Destroy:TObject.Destroy,s9:m7.s9,Hx$:function($){return $.ClassType.Hx($)}};var gY={$ClassName:"TIndexMemberDeclaration",$Parent:fu,$Init:function($){fu.$Init($);$.IndexSignature=null},Hx:function(S){var R="";R=Uf.Hx$(S.IndexSignature)+";"+"\r\n";return R},Destroy:TObject.Destroy,s9:m7.s9,Hx$:function($){return $.ClassType.Hx($)}};var Id={$ClassName:"TImportDeclaration",$Parent:an,$Init:function($){an.$Init($);$.Value=""},Hx:function(S){var R="";console.log("not implemented: TImportDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Co={$ClassName:"TFunctionType",$Parent:g8,$Init:function($){g8.$Init($);$.TypeParameters=[];$.ParameterList=[];$.ResultType=null},Hx:function(S){var R="";var bX=0;if(S.ParameterList.length>0){R="("+QG.jc(S.ParameterList[0],false);var $tN;for(bX=0+1,$tN=S.ParameterList.length;bX<$tN;bX++){R+="; "+QG.jc(S.ParameterList[bX],false)}
R+=")"}
if(S.ResultType)R+=": "+Uf.Hx$(S.ResultType);return R},mu:function(S,fr){var R="";var FA=false;var Af=0,Qi=0;Af=0;if(S.ParameterList.length>0){if(!(S.ParameterList[0].IsOptional&&fr==0)){Af+=(S.ParameterList[0].IsOptional?1:0);FA=S.ParameterList.length>=2&&lP(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[0].IsOptional)||Af<fr);R="("+QG.jc(S.ParameterList[0],FA);var $tO;for(Qi=0+1,$tO=S.ParameterList.length;Qi<$tO;Qi++){if(S.ParameterList[Qi].IsOptional&&Af>=fr)break;Af+=(S.ParameterList[Qi].IsOptional?1:0);R+=(FA)?", ":"; ";FA=Qi+1<S.ParameterList.length&&lP(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[Qi].IsOptional)||Af<fr);R+=QG.jc(S.ParameterList[Qi],FA)}
R+=")"}}
if(S.ResultType)R+=": "+Uf.Hx$(S.ResultType);return R},a8:function(S){var R="";R="function";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)},a8$:function($){return $.ClassType.a8($)}};var QG={$ClassName:"TFunctionParameter",$Parent:an,$Init:function($){an.$Init($);$.Type=null;$.IsOptional=false},Hx:function(S){var R="";R=NC(S.Name)+": ";if(S.Type){if($Is(S.Type,dG))R+="record"+"\r\n";R+=Uf.Hx$(S.Type)}else R+="Variant";return R},jc:function(S,R8){var R="";R=NC(S.Name);if(!R8){R+=": ";if(S.Type){if($Is(S.Type,dG))R+="record"+"\r\n";R+=Uf.Hx$(S.Type)}else R+="Variant"}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Cr={$ClassName:"TFunctionDeclaration",$Parent:an,$Init:function($){an.$Init($);$.Type=null},Hx:function(S){var R="";var RB="";var GV="";var a9=0,Mc=0;var ZV=null,CR=0;var Gr=[];a9=0;Gr=S.Type.ParameterList;var $tP;for(Mc=0,$tP=Gr.length;Mc<$tP;Mc++){ZV=Gr[Mc];if(ZV.IsOptional)++a9}
RB=Uf.aM(S.ClassType);RB+=(S.Type.ResultType)?"function":"procedure";RB+=" "+NC(S.Name);GV=";"+((a9>0)?" overload;":"");GV+="\r\n";R="";var $tQ;for(CR=0,$tQ=a9;CR<=$tQ;CR++){R+=RB+Co.mu(S.Type,CR)+GV}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var xL={$ClassName:"TFloatType",$Parent:sm,$Init:function($){sm.$Init($)},a8:function(S){var R="";R="Float";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx:sm.Hx,a8$:function($){return $.ClassType.a8($)}};var om={$ClassName:"TExportDeclaration",$Parent:an,$Init:function($){an.$Init($);$.xG=false},Hx:function(S){var R="";R="";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Sf={$ClassName:"TEnumerationItem",$Parent:Uf,$Init:function($){Uf.$Init($);$.Name=$.Value=""},Hx:function(S){var R="";R=S.Name;return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var G8={$ClassName:"TEnumerationDeclaration",$Parent:an,$Init:function($){an.$Init($);$.Items=[]},Hx:function(S){var R="";var Bh=0;var kF=null;var ks=[];R+=Uf.aM(S.ClassType)+"T"+S.Name+" = Variant;"+"\r\n";R+=Uf.aM(S.ClassType)+"T"+S.Name+"Helper = strict helper for T"+S.Name+"\r\n";Uf.ag(S.ClassType);ks=S.Items;var $tR;for(Bh=0,$tR=ks.length;Bh<$tR;Bh++){kF=ks[Bh];R+=Uf.aM(S.ClassType)+"const "+NC(Uf.Hx$(kF));if(kF.Value!=""){try{R+=" = "+(parseInt(kF.Value,10)).toString()+";"+"\r\n"}catch($e){R+=" = '"+kF.Value+"';"+"\r\n"}}else R+=" = '"+kF.Name+"';"+"\r\n"}
Uf.jE(S.ClassType);R+=Uf.aM(S.ClassType)+"end;"+"\r\n";R+="\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var jh={$ClassName:"TDefinitionDeclaration",$Parent:an,$Init:function($){an.$Init($)},Hx:function(S){var R="";console.log("not implemented: TDefinitionDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Xi={$ClassName:"TConstructorType",$Parent:g8,$Init:function($){g8.$Init($);$.ResultType=null;$.ParameterList=[]},Hx:function(S){var R="";var Fq=0;if(S.ParameterList.length>0){R="("+QG.jc(S.ParameterList[0],false);var $tS;for(Fq=0+1,$tS=S.ParameterList.length;Fq<$tS;Fq++){R+="; "+QG.jc(S.ParameterList[Fq],false)}
R+=")"}
if(S.ResultType)R+=": "+Uf.Hx$(S.ResultType);return R},a8:function(S){var R="";R="constructor";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)},a8$:function($){return $.ClassType.a8($)}};var CN={$ClassName:"TConstructorDeclaration",$Parent:fu,$Init:function($){fu.$Init($);$.ParameterList=[];$.Type=null},Hx:function(S){var R="";R=Uf.aM(S.ClassType)+"constructor Create";if(S.Type)R+=Uf.Hx$(S.Type);R+=";"+"\r\n";return R},Destroy:TObject.Destroy,s9:m7.s9,Hx$:function($){return $.ClassType.Hx($)}};var LW={$ClassName:"TClassDeclaration",$Parent:R3,$Init:function($){R3.$Init($);$.Members=[];$.IsAbstract=false;$.Implements=[]},Hx:function(S){var R="";var AE=0;var RL=0;var Gd=null;var Nb=[];R+=Uf.aM(S.ClassType)+"J"+S.Name+" = class external '"+S.Name+"'";if(S.Extends.length>0){R+="(";R+=Uf.Hx$(S.Extends[0]);var $tT;for(AE=0+1,$tT=S.Extends.length;AE<$tT;AE++){R+=", "+Uf.Hx$(S.Extends[AE])}
R+=")"}
R+="\r\n";Uf.ag(S.ClassType);Nb=S.Members;var $tU;for(RL=0,$tU=Nb.length;RL<$tU;RL++){Gd=Nb[RL];R+=Uf.Hx$(Gd)}
Uf.jE(S.ClassType);R+=Uf.aM(S.ClassType)+"end;"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var tR={$ClassName:"TCallSignature",$Parent:m7,$Init:function($){m7.$Init($);$.ParameterList=[];$.Type=null;$.TypeParameters=[]},Hx:function(S){var R="";var mP=0;var yN=null,zZ=0;R="";if(S.TypeParameters.length>0){var bS=[];R+="{<";bS=S.TypeParameters;var $tV;for(mP=0,$tV=bS.length;mP<$tV;mP++){yN=bS[mP];R+=Uf.Hx$(yN)}
R+=">}"}
if(S.ParameterList.length>0){R+="(";var $tW;for(zZ=0,$tW=(S.ParameterList.length-1);zZ<$tW;zZ++){R+=NV.hX(S.ParameterList[zZ],false)+"; "}
R+=NV.hX(S.ParameterList[(S.ParameterList.length-1)],false)+")"}
if(S.Type){R+=": ";if($Is(S.Type,dG))R+="record"+"\r\n";R+=Uf.Hx$(S.Type)}
R+=";";return R},WY:function(S,tM){var R="";var uX=false;var aR=0,gQ=0;aR=0;if(S.ParameterList.length>0){if(!(S.ParameterList[0].IsOptional&&tM==0)){aR+=(S.ParameterList[0].IsOptional?1:0);uX=S.ParameterList.length>=2&&Xd(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[0].IsOptional)||aR<tM);R="("+NV.hX(S.ParameterList[0],uX);var $tX;for(gQ=0+1,$tX=S.ParameterList.length;gQ<$tX;gQ++){if(S.ParameterList[gQ].IsOptional&&aR>=tM)break;aR+=(S.ParameterList[gQ].IsOptional?1:0);R+=(uX)?", ":"; ";uX=gQ+1<S.ParameterList.length&&Xd(S.ParameterList[gQ],S.ParameterList[gQ+1])&&((!S.ParameterList[gQ].IsOptional)||aR<tM);R+=NV.hX(S.ParameterList[gQ],uX)}
R+=")"}}
if(S.Type){R+=": ";if($Is(S.Type,dG))R+="record"+"\r\n";R+=Uf.Hx$(S.Type)}
return R},Destroy:TObject.Destroy,s9:m7.s9,Hx$:function($){return $.ClassType.Hx($)}};var bW={$ClassName:"TBooleanType",$Parent:sm,$Init:function($){sm.$Init($)},a8:function(S){var R="";R="Boolean";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx:sm.Hx,a8$:function($){return $.ClassType.a8($)}};var X5={$ClassName:"TArrayType",$Parent:E6,$Init:function($){E6.$Init($);$.Type=null},Hx:function(S){var R="";R="array of "+Uf.Hx$(S.Type);return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Hs={$ClassName:"TAmbientVariableDeclaration",$Parent:Uf,$Init:function($){Uf.$Init($);$.IsConst=false;$.AmbientBindingList=[]},Hx:function(S){var R="";var VR=0;var SH=null;var SC=[];SC=S.AmbientBindingList;var $tY;for(VR=0,$tY=SC.length;VR<$tY;VR++){SH=SC[VR];R+=Uf.aM(S.ClassType)+Uf.Hx$(SH)}
R+=";"+"\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var ZC={$ClassName:"TAmbientBodyElement",$Parent:Uf,$Init:function($){Uf.$Init($)},Destroy:TObject.Destroy,s9:Uf.s9,Hx:Uf.Hx};var WJ={$ClassName:"TAmbientPropertyMemberDeclaration",$Parent:ZC,$Init:function($){ZC.$Init($);$.Visibility=0;$.IsStatic=false;$.Name=""},Destroy:TObject.Destroy,s9:Uf.s9,Hx:Uf.Hx};var HO={$ClassName:"TAmbientPropertyMemberDeclarationProperty",$Parent:WJ,$Init:function($){WJ.$Init($);$.Type=null},Hx:function(S){var R="";R=Uf.aM(S.ClassType);if(S.IsStatic)R+="class var ";R+=NC(S.Name);R+=": "+((S.Type)?Uf.Hx$(S.Type):"Variant");R+=";"+"\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var tl={$ClassName:"TAmbientPropertyMemberDeclarationMethod",$Parent:WJ,$Init:function($){WJ.$Init($);$.CallSignature=null},Hx:function(S){var R="";var WC="";var yE="";var un=0,A6=0;var Jl=null,J7=0;var mX=[];un=0;mX=S.CallSignature.ParameterList;var $tZ;for(A6=0,$tZ=mX.length;A6<$tZ;A6++){Jl=mX[A6];if(Jl.IsOptional)++un}
WC=Uf.aM(S.ClassType);WC+=(S.CallSignature.Type)?"function":"procedure";WC+=" "+NC(S.Name);yE=(un>0)?" overload;":"";yE+=";"+"\r\n";R="";var $ta;for(J7=0,$ta=un;J7<=$ta;J7++){R+=WC+tR.WY(S.CallSignature,J7)+yE}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var n5={$ClassName:"TAmbientNamespaceDeclaration",$Parent:an,$Init:function($){an.$Init($);$.TypeAliases=[];$.Namespaces=[];$.Variables=[];$.Interfaces=[];$.Enums=[];$.Functions=[];$.Classes=[]},Hx:function(S){var R="";var Te=0,or=0;var L4=null,Mq=0;var ij=null,LM=0;var pj=null,Ej=0;var jNy=null,gF=0;var y6=null,BS=0;var Sw=null,nX=0;var aw=null,zO=0;var N2=null,Pu=0;var Cc=null;var vg=[],Cp=[];Uf.Rf(S.ClassType,S.Name);Te=0;Cp=S.Variables;var $tb;for(or=0,$tb=Cp.length;or<$tb;or++){L4=Cp[or];if(L4.IsConst)++Te}
if(Te>0){var SM=[];R+="const"+"\r\n";Uf.ag(S.ClassType);SM=S.Variables;var $tc;for(Mq=0,$tc=SM.length;Mq<$tc;Mq++){ij=SM[Mq];if(ij.IsConst)R=R+Uf.Hx$(ij)}
Uf.jE(S.ClassType);R+="\r\n"}
if(S.Enums.length+S.Classes.length+S.Interfaces.length+S.TypeAliases.length>0){var kq=[],Et=[],Vz=[],x7=[];R+="type"+"\r\n";Uf.ag(S.ClassType);Et=S.Enums;var $td;for(LM=0,$td=Et.length;LM<$td;LM++){pj=Et[LM];R+=Uf.Hx$(pj)}
kq=S.Classes;var $te;for(Ej=0,$te=kq.length;Ej<$te;Ej++){jNy=kq[Ej];R+=Uf.Hx$(jNy)}
x7=S.Interfaces;var $tf;for(gF=0,$tf=x7.length;gF<$tf;gF++){y6=x7[gF];R+=Uf.Hx$(y6)}
Vz=S.TypeAliases;var $tg;for(BS=0,$tg=Vz.length;BS<$tg;BS++){Sw=Vz[BS];R+=Uf.Hx$(Sw)}
Uf.jE(S.ClassType)}
if(S.Functions.length>0){var cN=[];cN=S.Functions;var $th;for(nX=0,$th=cN.length;nX<$th;nX++){aw=cN[nX];R+=Uf.Hx$(aw)}
R+="\r\n"}
if(S.Variables.length-Te>0){var az=[];R+="var"+"\r\n";Uf.ag(S.ClassType);az=S.Variables;var $ti;for(zO=0,$ti=az.length;zO<$ti;zO++){N2=az[zO];if(!N2.IsConst)R=R+Uf.Hx$(N2)}
Uf.jE(S.ClassType);R+="\r\n"}
vg=S.Namespaces;var $tj;for(Pu=0,$tj=vg.length;Pu<$tj;Pu++){Cc=vg[Pu];R+=Uf.Hx$(Cc)}
R+="\r\n";Uf.Q2(S.ClassType);return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var U4={$ClassName:"TAmbientModuleDeclaration",$Parent:Uf,$Init:function($){Uf.$Init($);$.Interfaces=[];$.Namespaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.TypeAliases=[];$.IdentifierPath="";$.Enums=[];$.Variables=[]},Hx:function(S){var R="";var ZT=0,FT=0;var nG=null,c2=0;var ao=null,nV=0;var Yn=null,Rd=0;var lr=null,CX=0;var Fl=null,Ol=0;var fA=null,ur=0;var kx=null,lV=0;var VU=null,qs=0;var q8=null,Hr=0;var bJ=null;var uo=[],P9=[],ESA=[];R="\/\/"+S.IdentifierPath+"\r\n"+"\r\n";ZT=0;uo=S.Variables;var $tk;for(FT=0,$tk=uo.length;FT<$tk;FT++){nG=uo[FT];if(nG.IsConst)++ZT}
if(ZT>0){var jF=[];R+="const"+"\r\n";Uf.ag(S.ClassType);jF=S.Variables;var $tl;for(c2=0,$tl=jF.length;c2<$tl;c2++){ao=jF[c2];if(ao.IsConst)R=R+Uf.Hx$(ao)}
Uf.jE(S.ClassType);R+="\r\n"}
if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var OE=[],TP=[],hu=[],Qg=[];R+="type"+"\r\n";Uf.ag(S.ClassType);TP=S.Enums;var $tm;for(nV=0,$tm=TP.length;nV<$tm;nV++){Yn=TP[nV];R+=Uf.Hx$(Yn)}
OE=S.Classes;var $tn;for(Rd=0,$tn=OE.length;Rd<$tn;Rd++){lr=OE[Rd];R+=Uf.Hx$(lr)}
Qg=S.Interfaces;var $to;for(CX=0,$to=Qg.length;CX<$to;CX++){Fl=Qg[CX];R+=Uf.Hx$(Fl)}
hu=S.TypeAliases;var $tp;for(Ol=0,$tp=hu.length;Ol<$tp;Ol++){fA=hu[Ol];R+=Uf.Hx$(fA)}
Uf.jE(S.ClassType)}
P9=S.Modules;var $tq;for(ur=0,$tq=P9.length;ur<$tq;ur++){kx=P9[ur];R+=Uf.Hx$(kx)}
if(S.Functions.length>0){var gO=[];gO=S.Functions;var $tr;for(lV=0,$tr=gO.length;lV<$tr;lV++){VU=gO[lV];R+=Uf.Hx$(VU)}
R+="\r\n"}
if(S.Variables.length-ZT>0){var wp=[];R+="var"+"\r\n";Uf.ag(S.ClassType);wp=S.Variables;var $ts;for(qs=0,$ts=wp.length;qs<$ts;qs++){q8=wp[qs];if(!q8.IsConst)R=R+Uf.Hx$(q8)}
Uf.jE(S.ClassType);R+="\r\n"}
ESA=S.Namespaces;var $tt;for(Hr=0,$tt=ESA.length;Hr<$tt;Hr++){bJ=ESA[Hr];R+=Uf.Hx$(bJ)}
R+="\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var Md={$ClassName:"TAmbientFunctionDeclaration",$Parent:an,$Init:function($){an.$Init($);$.CallSignature=null},Hx:function(S){var R="";var JL="";var Vn="";var hh=0,YZ=0;var uW=null,Rw=0;var Fu=[];hh=0;Fu=S.CallSignature.ParameterList;var $tu;for(YZ=0,$tu=Fu.length;YZ<$tu;YZ++){uW=Fu[YZ];if(uW.IsOptional)++hh}
JL=Uf.aM(S.ClassType);JL+=(S.CallSignature.Type)?"function":"procedure";JL+=" "+NC(S.Name);Vn=";"+((hh>0)?" overload;":"");if(Uf.BC(S.ClassType)!="")Vn+=" external '"+Uf.BC(S.ClassType)+"."+S.Name+"'";Vn+="\r\n";R="";var $tv;for(Rw=0,$tv=hh;Rw<=$tv;Rw++){R+=JL+tR.WY(S.CallSignature,Rw)+Vn}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var qJ={$ClassName:"TAmbientEnumerationDeclaration",$Parent:G8,$Init:function($){G8.$Init($)},Destroy:TObject.Destroy,s9:Uf.s9,Hx:G8.Hx};var yM={$ClassName:"TAmbientDeclaration",$Parent:an,$Init:function($){an.$Init($);$.Variables=[];$.Namespaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.Enums=[]},Hx:function(S){var R="";var BH=0;var K6=null,K8=0;var nx=null,If=0;var KB=null,Xu=0;var pC=null,QB=0;var IF=null;var gy=[],ZE=[],DP=[],Z1h=[];ZE=S.Functions;var $tw;for(BH=0,$tw=ZE.length;BH<$tw;BH++){K6=ZE[BH];R+=Uf.Hx$(K6)}
gy=S.Modules;var $tx;for(K8=0,$tx=gy.length;K8<$tx;K8++){nx=gy[K8];R+=Uf.Hx$(nx)}
if(S.Classes.length>0){var Fox=[];R+="type"+"\r\n";Uf.ag(S.ClassType);Fox=S.Classes;var $ty;for(If=0,$ty=Fox.length;If<$ty;If++){KB=Fox[If];R+=Uf.Hx$(KB)}
Uf.jE(S.ClassType)}
if(S.Variables.length>0){Z1h=S.Variables;var $tz;for(Xu=0,$tz=Z1h.length;Xu<$tz;Xu++){pC=Z1h[Xu];R+=Uf.Hx$(pC)}}
DP=S.Namespaces;var $t01;for(QB=0,$t01=DP.length;QB<$t01;QB++){IF=DP[QB];R+=Uf.Hx$(IF)}
return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var z9={$ClassName:"TAmbientConstructorDeclaration",$Parent:ZC,$Init:function($){ZC.$Init($);$.ParameterList=[]},Hx:function(S){var R="";var l5=0;R=Uf.aM(S.ClassType)+"constructor Create";if(S.ParameterList.length>0){R+="(";var $t11;for(l5=0,$t11=(S.ParameterList.length-1);l5<$t11;l5++){R+=QG.jc(S.ParameterList[l5],false)+"; "}
R+=QG.jc(S.ParameterList[(S.ParameterList.length-1)],false)+")";R+=")"}
R+=";"+"\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var xo={$ClassName:"TAmbientClassDeclaration",$Parent:Uf,$Init:function($){Uf.$Init($);$.TypeParameters=[];$.Members=[];$.Name="";$.Extends=[];$.Implements=[]},Hx:function(S){var R="";var eR=0;var j4=0,ML=0;var lI=null,oa=0;var SG=[];R+=Uf.aM(S.ClassType)+"J"+S.Name+" = class external '"+S.Name+"'";if(S.Extends.length>0){R+="(";R+=Uf.Hx$(S.Extends[0]);var $t21;for(eR=0+1,$t21=S.Extends.length;eR<$t21;eR++){R+=", "+Uf.Hx$(S.Extends[eR])}
R+=")"}
R+="\r\n";j4=0;Uf.ag(S.ClassType);SG=S.Members;var $t31;for(ML=0,$t31=SG.length;ML<$t31;ML++){lI=SG[ML];oa=($Is(lI,WJ))?$As(lI,WJ).Visibility:0;if(j4!=oa){Uf.jE(S.ClassType);R+=Uf.aM(S.ClassType);switch(oa){case 0:R+="public"+"\r\n";break;case 1:R+="protected"+"\r\n";break;case 2:R+="private"+"\r\n";break}
Uf.ag(S.ClassType);j4=oa}
R+=Uf.Hx$(lI)}
Uf.jE(S.ClassType);R+=Uf.aM(S.ClassType)+"end;"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var fB={$ClassName:"TAmbientBinding",$Parent:an,$Init:function($){an.$Init($);$.Type=null},Hx:function(S){var R="";R=S.Name+": "+Uf.Hx$(S.Type);return R},Destroy:TObject.Destroy,s9:Uf.s9,Hx$:function($){return $.ClassType.Hx($)}};var zy=["amPublic","amPrivate","amProtected"];function Xd(UV,dq){var R=false;R=(!(UV.Type!==null)!=!(UV.Type!==null));if(R&&(UV.Type!==null))R=Uf.Hx$(UV.Type)==Uf.Hx$(dq.Type);return R};function lP(dJ,io){var R=false;R=(!(dJ.Type!==null)!=!(dJ.Type!==null));if(R&&(dJ.Type!==null))R=Uf.Hx$(dJ.Type)==Uf.Hx$(io.Type);return R};function NC(LI){var R="";R=LI;if((["abstract","class","const","constructor","default","div","end","export","external","function","interface","label","object","private","property","protected","public","string","type","unit","uses"].indexOf((LI).toLowerCase())>=0))R="&"+R;if((["length","include","exclude"].indexOf((LI).toLowerCase())>=0))R="_"+R;return R};var w=null;var w=require("typescript");var OJ=0;var ZF=[];var I=[],cf="",p2="",P5=null;var P5=sQ();I=process.argv;I.splice(0,2);if(I.length==0){return"Usage: ts2pas inputfile [outputfile]"}
cf=I[0];if(((cf).indexOf("https:\/\/github.com\\")>=0)){Aa(StrAfter(cf,"https:\/\/github.com\\"))}else{p2=I[0]+".pas";if(I.length==2)p2=I[1];OU(cf,p2)}
